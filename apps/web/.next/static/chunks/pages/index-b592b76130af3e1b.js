(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9876:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(6867)}])},6867:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var r=s(7458),l=s(2983),o=s(8317),n=s.n(o),a=s(3389);let u=()=>{let[e,t]=(0,l.useState)(""),[s,o]=(0,l.useState)(""),[u,i]=(0,l.useState)(null),c=(0,a.useRouter)();(0,l.useEffect)(()=>{(function(){{let e=localStorage.getItem("token");return!!e}})()&&c.push("/notes")},[c]);let d=async t=>{t.preventDefault();try{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s})}),l=await r.json();r.ok?(console.log("User logged in:",l),localStorage.setItem("token",l.token),c.push("/notes")):i(l.error||"Login failed")}catch(o){i("An error occurred"),console.error(o)}};return(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center h-screen bg-gray-100 ",children:[(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg shadow-[#787878] max-w-sm w-full",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-center mb-6",children:"Login"}),u&&(0,r.jsx)("p",{className:"text-red-500 text-center mb-4",children:u}),(0,r.jsxs)("form",{onSubmit:d,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",value:e,onChange:e=>t(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,r.jsx)("input",{type:"password",id:"password",name:"password",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",value:s,onChange:e=>o(e.target.value)})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 focus:outline-none font-semibold",children:"Login"})]})]}),(0,r.jsxs)("div",{className:"mt-10 bg-blue-500 p-8 rounded-lg shadow-lg shadow-[#787878] max-w-sm w-full flex flex-col items-center justify-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-center mb-6 text-white",children:"Don't have an account?"}),(0,r.jsx)(n(),{href:"/register",className:" bg-white font-semibold text-blue-500 py-2 px-20 rounded-lg border-2 border-blue-500 hover:bg-blue-500 hover:border-white hover: hover:text-slate-50 focus:outline-none",children:"Create an account"})]})]})};var i=u}},function(e){e.O(0,[774,888,179],function(){return e(e.s=9876)}),_N_E=e.O()}]);