(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[245],{5762:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/notes/[id]",function(){return n(8568)}])},8568:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var s=n(7458),o=n(2983),l=n(3389),i=n(8317),r=n.n(i),a=n(3070),c=n(2058);function u(){var e;let t=(0,l.useRouter)(),{id:n}=t.query,[i,u]=(0,o.useState)(),[d,h]=(0,o.useState)(),[m,x]=(0,o.useState)(null),[f,g]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=localStorage.getItem("token");x(e)},[]);let b=async e=>{try{let t=await fetch("/api/notes/".concat(e),{method:"GET"});if(!t.ok){console.error("Something went wrong");return}let n=await t.json();u(n.note)}catch(s){console.error("Note info could not be fetched",s)}},w=async e=>{let t=await (0,a.b)(e);h(t)};return((0,o.useEffect)(()=>{n&&m&&(b(n),w(m))},[n,m]),(0,o.useEffect)(()=>{i&&d&&g(i.authorId===d.id)},[i,d]),i&&d)?(0,s.jsxs)("div",{className:"max-w-3xl mx-auto bg-white p-6 rounded-lg shadow-lg mt-10",children:[(0,s.jsx)("h2",{className:"text-3xl font-semibold text-blue-900 mb-6",children:"Note Details"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("p",{className:"text-lg font-medium text-gray-800",children:[(0,s.jsx)("strong",{children:"Title:"})," ",i.title]}),(0,s.jsxs)("p",{className:"text-lg font-medium text-gray-800",children:[(0,s.jsx)("strong",{children:"Content:"})," ",i.content]}),(0,s.jsxs)("p",{className:"text-lg font-medium text-gray-800",children:[(0,s.jsx)("strong",{children:"Author:"})," ",(null===(e=i.author)||void 0===e?void 0:e.username)||"Unknown"]})]}),f&&(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(r(),{href:"/notes/edit/".concat(i.id),className:"inline-block px-6 py-2 bg-blue-600 text-white rounded-md shadow-md hover:bg-blue-700 transition-colors duration-300",children:"Edit Note"})}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)("button",{onClick:()=>t.push("/notes"),className:"inline-block px-6 py-2 bg-blue-600 text-white rounded-md shadow-md hover:bg-blue-700 transition-colors duration-300",children:"Back to Notes"})})]}):(0,s.jsx)(c.Z,{})}function d(){return(0,s.jsx)(u,{})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5762)}),_N_E=e.O()}]);