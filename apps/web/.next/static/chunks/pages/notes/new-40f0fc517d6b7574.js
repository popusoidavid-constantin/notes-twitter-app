(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[595],{6680:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/notes/new",function(){return r(3173)}])},3173:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}});var n=r(7458),o=r(2983),s=r(3389);function l(){let[e,t]=(0,o.useState)(),[r,l]=(0,o.useState)(""),[a,i]=(0,o.useState)(""),[c,u]=(0,o.useState)(""),d=(0,s.useRouter)();(0,o.useEffect)(()=>{let e=localStorage.getItem("token");e&&fetch("/api/profile/dashboard",{method:"GET",headers:{Authorization:"Bearer ".concat(e)}}).then(e=>e.json()).then(e=>{e.user?t(e.user):console.error(e.error)}).catch(e=>{console.error("Error fetching user data:",e)})},[]);let h=async t=>{t.preventDefault();try{let n=await fetch("/api/notes/new",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:r,content:a,userId:e.id})}),o=await n.json();n.ok?(console.log("Note created",o),d.push("/notes/my-notes")):u(o.error||"Login failed")}catch(s){u("An error occurred"),console.error(s)}};return(0,n.jsx)("div",{className:"flex justify-center items-start h-screen bg-[#15202B]",children:(0,n.jsxs)("div",{className:"bg-blue-900 p-8 rounded-xl shadow-lg w-[90%] h-[65%]",children:[(0,n.jsx)("h2",{className:"text-3xl font-semibold text-center text-white mb-6",children:"New Note"}),(0,n.jsx)("p",{className:"text-red-500 text-center mb-4",children:c}),(0,n.jsxs)("form",{className:"space-y-6",onSubmit:h,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-white",children:"Note Title"}),(0,n.jsx)("input",{type:"text",id:"title",name:"title",required:!0,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 font-bold text-white bg-blue-500",value:r,onChange:e=>l(e.target.value)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"content",className:"block text-sm font-medium text-white",children:"Note Content"}),(0,n.jsx)("textarea",{id:"content",name:"content",required:!0,className:"mt-1 w-full text-start px-4 h-[20vh] py-3 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 font-bold text-white bg-blue-500",value:a,onChange:e=>i(e.target.value)})]}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)("button",{type:"submit",className:"w-[20%] bg-blue-500 text-white py-3 rounded-lg hover:bg-blue-600 focus:outline-none font-semibold transition duration-200",children:"Create Note"})})]})]})})}function a(){return(0,n.jsx)(l,{})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=6680)}),_N_E=e.O()}]);